<html>

<head>
    <title>Home</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
<ul>
    <li onclick="kakaoLogin();">
        <a href="javascript:void(0)">
            <span>카카오 로그인</span>
        </a>
    </li>
</ul>

<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
<script>
    //카카오로그인
    function kakaoLogin() {

        $.ajax({
            url: '/api/oauth2/authorization/kakao',
            type: 'get',
            async: false,
            dataType: 'text',
            success: function (res) {
                location.href = res;
            }
        });

    }

    $(document).ready(function() {

        var kakaoInfo = '${kakaoInfo}';

        if(kakaoInfo != ""){
            var data = JSON.parse(kakaoInfo);

            alert("카카오로그인 성공 \n accessToken : " + data['accessToken']);
            alert(
                "user : \n" + "email : "
                + data['email']
                + "\n nickname : "
                + data['nickname']);
        }
    });

</script>
</body>
</html>
















<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport"-->
<!--          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">-->
<!--    <meta http-equiv="X-UA-Compatible" content="ie=edge">-->
<!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>-->
<!--    <title>Test</title>-->
<!--</head>-->
<!--<body id="page-top">-->
<!--<div id="wrapper">-->
<!--    <div id="logindiv" class="modalWrapOpen">-->
<!--        <div class="loginModal">-->
<!--            <p class="modalTit"><strong>로그인</strong></p>-->
<!--            <button class="loginBtn naver" onclick="location.href='/api/oauth2/authorization/naver'">네이버 아이디로 로그인</button>-->
<!--            <button class="loginBtn kakao" onclick="location.href='/api/oauth2/authorization/kakao'">카카오 계정으로 로그인</button>-->
<!--            <button class="loginBtn google" onclick="location.href='/api/oauth2/authorization/google'">구글 계정으로 로그인</button>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->